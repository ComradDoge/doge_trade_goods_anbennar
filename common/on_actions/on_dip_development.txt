
# province
on_dip_development = {
	if = {
		limit = { owner = { has_country_flag = enable_supplemental_development_flag } }
		random_list = {
			20 = { add_base_production = 1 }
			80 = { }
		}
	}

	#Anbennar
	events = {
		kheionai.4
		# flavour_mulen.1
		# flavour_mulen.2
	}
	if = {
		limit = { has_province_modifier = jaddari_blessed_land }
		random = {
			chance = 25
			add_base_production = 1
		}
	}
	jaddari_deioderan_dev_counter_update = yes
	# if = {
		# limit = { owner = { has_country_flag = federation_state_council } }
		# governing_point_dip = yes
	# }
	if = {
		limit = {
			owner = { has_estate = estate_castonath_patricians }
			OR = {
				province_id = 831
				province_id = 832
				province_id = 833
			}
		}
		add_province_modifier = {
			name = devved_castonath_recently_dummy
			duration = 1825
			hidden = yes
		}
	}
	# Castanor stuff
	if = {
		limit = { owner = { tag = B32 } }
		if = {
			limit = {
				OR = {
					region = inner_castanor_region
					region = south_castanor_region
					region = west_castanor_region
				}
				owner = { mission_completed = castanor_home_of_humanity }
			}
			random = {
				chance = 25
				add_base_production = 1
			}
		}
		if = {
			limit = {
				area = castonath_area
				owner = { mission_completed = castanor_modernizing_castonath }
			}
			change_variable = {
				which = numTimesCastonathDevved
				value = 1
			}
		}
	}

	# Ancient Dwarven Knowledge
	if = {
		limit = {
			OR = {
				has_terrain = dwarven_hold
				has_terrain = dwarven_hold_surface
			}
		}
		if = {
			limit = { owner = { check_variable = { ancientDwarvenKnowledge = 1 } } }
			owner = { subtract_variable = { ancientDwarvenKnowledge = 1 } }
			add_base_production = 1
			add_next_institution_embracement_scaled = 5
		}
	}

	# Trade Goods Expanded
	if = {
		limit = {
			OR = {
				trade_goods = copper
				trade_goods = tin
				trade_goods = iron
				trade_goods = zinc
				trade_goods = lead
				trade_goods = glass
				#trade_goods = cocoa
				#trade_goods = tobacco
			}
		}
		if = {
			limit = { 
				NOT = { has_province_modifier = import_from_subjects_modifier } 
			}
			owner = {
				country_event = { 
					id = New_TradeGood_Events.2
					days = 1
				}
			}
		}
		else_if = {
			limit = {
				has_province_modifier = import_from_subjects_modifier
			}
			owner = {
				country_event = { 
					id = New_TradeGood_Events.2
					days = 4
				}
				overlord = { 
					country_event = { 
						id = New_TradeGood_Events.2
						days = 4
					}
				}
			}
			if = {
				limit = { trade_goods = copper  }
				update_goods_subjects = { GOODS = copper }
			}
			else_if = {
				limit = { trade_goods = tin  }
				update_goods_subjects = { GOODS = tin }
			}
			else_if = {
				limit = { trade_goods = iron  }
				update_goods_subjects = { GOODS = iron }
			}
			else_if = {
				limit = { trade_goods = lead }
				update_goods_subjects = { GOODS = lead }
			}
			else_if = {
				limit = { trade_goods = zinc  }
				update_goods_subjects = { GOODS = zinc }
			}
			else_if = {
				limit = { trade_goods = glass  }
				update_goods_subjects = { GOODS = glass }
			}
			#else_if = {
			#	limit = { trade_goods = cocoa  }
			#	update_goods_subjects = { GOODS = cocoa }
			#}
			#else_if = {
			#	limit = { trade_goods = tobacco  }
			#	update_goods_subjects = { GOODS = tobacco }
			#}
		}
	}
}